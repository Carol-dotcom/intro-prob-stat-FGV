<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Introduction to Causality</title>
    <meta charset="utf-8" />
    <meta name="author" content="Umberto Mignozzetti" />
    <link href="week4a_files/remark-css/default.css" rel="stylesheet" />
    <link href="week4a_files/remark-css/metropolis.css" rel="stylesheet" />
    <link href="week4a_files/remark-css/metropolis-fonts.css" rel="stylesheet" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# Introduction to Causality
## How do we know if X causes Y?
<html>
<div style="float:left">

</div>
<hr color='#EB811B' size=1px width=800px>
</html>
### Umberto Mignozzetti
### March 10

---




&lt;style&gt;

.remark-slide-number {
  position: inherit;
}

.remark-slide-number .progress-bar-container {
  position: absolute;
  bottom: 0;
  height: 6px;
  display: block;
  left: 0;
  right: 0;
}

.remark-slide-number .progress-bar {
  height: 100%;
  background-color: #EB811B;
}

.orange {
  color: #EB811B;
}
&lt;/style&gt;


# Today's Agenda

.font150[

* What is causal inference?

* Correlation vs causation

* Treatment effects and potential outcomes

* Randomized Controlled Trials
]

---

# Brief Recap

.font150[
* Past weeks you learned how to:

  - Load data into R
  
  - Data processing
  
  - Draw graphs
  
  - Work with R in general
]
---
class: inverse, center, middle

# Causal Inference

&lt;html&gt;&lt;div style='float:left'&gt;&lt;/div&gt;&lt;hr color='#EB811B' size=1px width=720px&gt;&lt;/html&gt; 

---

# Causal Inference

.font150[
* What is causal inference?
]
--

.font150[
* Causal: relationship where one factor causes the other
]
--
.font150[
* Inference: our ability to derive conclusion from facts and observations
]
--

.font150[
* _Causal inference is an attempt to estimate a causal connection between two variables based on an observed effect_
]
---

# Causal Inference

.center[![:scale 110%](candidate.png)]

---

# Causal Inference

.center[![:scale 110%](germany.png)]

---

# Causal Inference

.center[![:scale 80%](democracy.png)]
--

.font150[Which question is harder to answer?]
---

# Causal Inference

.center[![:scale 80%](cpi.png)]
---

# Does X cause Y?

.font150[
* Does _X_ occur at the same time as _Y_?

* If _X_ goes up or down, does _Y_ also go up or down?

* If _X_ is happens, does _Y_ also happen?
]
--

.font150[* _Are X and Y causally related because of that?_]
--

.font150[**NO**]
---

# Does X cause Y?

.center[![:scale 100%](eng.png)]
---

# Does X cause Y?

.center[![:scale 100%](kentucky.png)]
---

# Causal Inference - Notation

.font150[
* Treatment variable = _T_

* Two potential outcomes = _Y_ when _T = 0_ and _Y_ when _T = 1_
]
--

.font150[
* Example

  - Treatment: getting a university degree
  
  - Potential outcome: salary with a university degree _(Y when T = 1)_ versus salary without a university degree _(Y when T = 0)_
]
---

# Causal Inference - Notation

.font150[
* The causal effect of the treatment _T_ is the difference in _Y_ with and without _T_
  
* `\(Y(T = 1) - Y(T = 0)\)` or `\(Y_{1} - Y_{0}\)`
]

.center[![:scale 100%](causal01.png)]
--

.font150[
* Why is that a problem?
]

---

# Fundamental Problem

.font150[
* _We can never observe Y where T = 1 and T = 0 at the same time_

* We only observe _one_ outcome at a time, that's why it is called the _potential_ outcomes framework
]
---

# Fundamental Problem


.center[![:scale 60%](causal02.png)]

.center[[Holland, Paul (1986), p. 947](https://www.jstor.org/stable/2289064)]
---

# Sample Average Treatment Effect

.font150[
* Solution: we estimate the _average causal effect_ in the groups that received and did not receive the treatment

* We call it the _Sample Average Treatment Effect_, or SATE
]

.center[![:scale 100%](sate.png)]

.font150[
* But is that enough?
]
--

.font150[
* _Not quite_
]

---

# Randomization

.font130[
* The best solution to the problem of selection bias is _randomization_

* If the researcher randomized the treatment, she can be sure that it is unrelated to any observable characteristic

* We also assume randomized treatment is uncorrelated with any _unobservable_ characteristic too

* Randomized Controlled Trials (RCTs): the researcher creates treatment and control groups

* If all other characteristics are equivalent on average between the two groups, _the difference between them is caused by the treatment effect_
]
---

# Randomization

.center[![:scale 85%](rct.png)]
---

# Internal versus External Validity

.font150[
* RCTs have very strong internal validity, that is, there is very little chance the result is derived from causes other than the treatment

* However, they may not generalize well. Why? 
]
--

.font150[
* Samples may not reflect the whole population of interest
]

---

# Class Exercise on Causality

.font150[
* Partial replication of: Jones, Benjamin F, and Benjamin A Olken. 2009. [Hit or Miss? The Effect of Assassinations on Institutions and War.](http://dx.doi.org/10.1257/mac.1.2.55) *American Economic Journal: Macroeconomics* 1(2): 55â€“87. 
]

.font110[
* **Abstract**: Assassinations are a persistent feature of the political landscape. Using a new dataset of assassination attempts on all world leaders from 1875 to 2004, we exploit inherent randomness in the success or failure of assassination attempts to identify the effects of assassination. We find that, on average, successful assassinations of autocrats produce sustained moves toward democracy. We also find that assassinations affect the intensity of small-scale conflicts. The results document a contemporary source of institutional change, inform theories of conflict, and show that small sources of randomness can have a pronounced effect on history.
]
---

# Class Exercise on Causality

.font130[
* One longstanding debate in polisci is whether individual political leaders can make a difference.

* Some emphasise that leaders with different ideologies and personalities can significantly affect the course of a nation.

* Others argue that political leaders are severely constrained by historical and institutional forces.

* Did individuals like Hitler, Mao, Roosevelt, and Churchill make a big difference?

* The difficulty of empirically testing these arguments stems from the fact that the change of leadership is not random and there are many confounding factors to be adjusted for.]
---

# Class Exercise on Causality

.font150[
* In this exercise, we consider a *natural experiment* in which the success or failure of assassination attempts is assumed to be essentially random.

* Each observation of the CSV data set `leaders.csv` contains information about an assassination attempt. 

* The variables are:
]
---

# Class Exercise on Causality

.font120[
--------------------------------------------------------------------------------
 Name                 Description
 -------------------- ----------------------------------------------------------
 `country`            The name of the country
 
 `year`               Year of assassination
 
 `leadername`         Name of leader who was targeted
 
 `age`                Age of the targeted leader
 
 `politybefore`       Average polity score during the 3 year period prior to the attempt
 
 `polityafter`        Average polity score during the 3 year period after the attempt
]

---

# Class Exercise on Causality

.font120[
--------------------------------------------------------------------------------
 Name                 Description
 -------------------- ----------------------------------------------------------
 `civilwarbefore`     1 if country is in civil war during the 3 year period prior to the attempt, or 0 
 
 `civilwarafter`      1 if country is in civil war during the 3 year period after the attempt, or 0
 
 `interwarbefore`     1 if country is in international war during the 3 year period prior to the attempt, or 0
 
 `interwarafter`      1 if country is in international war during the 3 year period after the attempt, or 0
 
 `result`             Result of the assassination attempt

]
---

# Class Exercise on Causality

.font130[
The `polity` variable represents the so-called *polity score* from the Polity Project.  The Polity Project systematically documents and quantifies the regime types of all countries in the world from 1800.  The polity score is a 21-point scale ranging from -10 (hereditary monarchy) to 10 (consolidated democracy).] 

.font130[
The `result` variable is a 10 category factor variable describing the result of each assassination attempt.]
---

# Class Exercise on Causality

.font150[
* **Question 1**

* How many assassination attempts are recorded in the data?  How many countries experience at least one leader assassination attempt? (The `unique` function, which returns a set of unique values from the input vector, may be useful here).  What is the average number of such attempts (per year) among these countries?
]
---

# Class Exercise on Causality

.font150[
* **Question 2**

* Create a new binary variable named `success` that is equal to 1 if a leader dies from the attack and to 0 if the leader survives.  Store this new variable as part of the original data frame.  What is the overall success rate of leader assassination? Does the result speak to the validity of the assumption that the success of assassination attempts is randomly determined? ]
---

# Class Exercise on Causality

.font150[
* **Question 3**

* Investigate whether the average polity score over 3 years prior to an assassination attempt differs on average between successful and failed attempts.  Also, examine whether there is any difference in the age of targeted leaders between successful and failed attempts.  Briefly interpret the results in light of the validity of the aforementioned assumption.]
---

# Class Exercise on Causality

.font150[
* **Question 4**

* Repeat the same analysis as in the previous question, but this time using the country's experience of civil and international war. Create a new binary variable in the data frame called `warbefore`.  Code the variable such that it is equal to 1 if a country is in either civil or international war during the 3 years prior to an assassination attempt.  Provide a brief interpretation of the result.]
---

# Class Exercise on Causality

.font150[
* **Question 5**

* Does successful leader assassination cause democratization? Does successful leader assassination lead countries to war?  Answer these questions by analyzing the data.  Be sure to state your assumptions and provide a brief interpretation of the results.]
---
class: inverse, center, middle

# Questions?

&lt;html&gt;&lt;div style='float:left'&gt;&lt;/div&gt;&lt;hr color='#EB811B' size=1px width=720px&gt;&lt;/html&gt; 

---

class: inverse, center, middle

# See you next Thursday!

&lt;html&gt;&lt;div style='float:left'&gt;&lt;/div&gt;&lt;hr color='#EB811B' size=1px width=720px&gt;&lt;/html&gt;
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script src="macros.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"ratio": "4:3",
"highlightLines": true,
"countIncrementalSlides": false,
"slideNumberFormat": "<div class=\"progress-bar-container\">   <div class=\"progress-bar\" style=\"width: calc(%current% / %total% * 100%);\">   </div> </div>"
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  /* Replace <script> tags in slides area to make them executable
   *
   * Runs after post-processing of markdown source into slides and replaces only
   * <script>s on the last slide of continued slides using the .has-continuation
   * class added by xaringan. Finally, any <script>s in the slides area that
   * aren't executed are commented out.
   */
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container:not(.has-continuation) script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
  var scriptsNotExecuted = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container.has-continuation script'
  );
  if (!scriptsNotExecuted.length) return;
  for (var i = 0; i < scriptsNotExecuted.length; i++) {
    var comment = document.createComment(scriptsNotExecuted[i].outerHTML)
    scriptsNotExecuted[i].parentElement.replaceChild(comment, scriptsNotExecuted[i])
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_HTMLorMML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
